(this.webpackJsonpmemory_game_test=this.webpackJsonpmemory_game_test||[]).push([[0],{16:function(t,r,e){},22:function(t,r,e){"use strict";e.r(r);var i=e(0),a=e.n(i),n=e(5),o=e.n(n),c=(e(16),e(4)),s=function(){return Object(c.b)()},l=c.c,d=e(2),f={started:!1,done:!1,leaderboard:JSON.parse(localStorage.getItem("leaderboard")||JSON.stringify([])),player:JSON.parse(localStorage.getItem("player")||JSON.stringify("Player"))},u=Object(d.b)({name:"game",initialState:f,reducers:{startGame:function(t){t.started=!0},finishGame:function(t,r){t.started=!1,t.leaderboard.push({player:t.player,time:r.payload}),t.leaderboard.sort((function(t,r){return t.time-r.time})),localStorage.setItem("leaderboard",JSON.stringify(t.leaderboard))},setPlayer:function(t,r){t.player=r.payload,localStorage.setItem("player",JSON.stringify(r.payload))},clearLeaderboard:function(t){t.leaderboard=[],localStorage.setItem("leaderboard",JSON.stringify(t.leaderboard))}}}),m=u.actions,b=m.startGame,p=m.finishGame,j=m.setPlayer,O=m.clearLeaderboard,g=u,h=e(10),v=e(11),T=["fab fa-angular","fab fa-apple","fas fa-atlas","fas fa-atom","fas fa-bahai","fas fa-biohazard","fab fa-bitcoin","fas fa-bomb","fas fa-blender","fab fa-bluetooth","fas fa-brain","fas fa-chess-rook","fas fa-cogs","fas fa-compass","fab fa-css3-alt","fab fa-docker","fas fa-dove","fas fa-fish"],y=Object(d.b)({name:"grid",initialState:{grid:[],pair:[],foundPairs:0},reducers:{populateGrid:function(t){for(var r=[],e=Object(v.a)(T).sort((function(){return.5-Math.random()})),i=Object(v.a)(T).sort((function(){return.5-Math.random()})),a=6;a>0;a--){for(var n=[],o=3;o>0;o--){var c={icon:e.pop()||"",position:{row:-1*(a-6),col:-1*(2*o-6)},visibility:!0,done:!1},s={icon:i.pop()||"",position:{row:-1*(a-6),col:-1*(2*o-6)+1},visibility:!0,done:!1};n.push(c,s)}r.push(n)}t.grid=r},toggleVisibility:function(t,r){t.grid[r.payload.row][r.payload.col].visibility=!t.grid[r.payload.row][r.payload.col].visibility,t.pair.push(t.grid[r.payload.row][r.payload.col])},closePair:function(t){var r,e=Object(h.a)(t.pair);try{for(e.s();!(r=e.n()).done;){var i=r.value;t.grid[i.position.row][i.position.col].done=!0}}catch(a){e.e(a)}finally{e.f()}t.foundPairs++,t.pair=[]},clearPair:function(t){var r,e=Object(h.a)(t.pair);try{for(e.s();!(r=e.n()).done;){var i=r.value;t.grid[i.position.row][i.position.col].visibility=!1}}catch(a){e.e(a)}finally{e.f()}t.pair=[]},clearFoundPairs:function(t){t.foundPairs=0},turnAllCards:function(t){t.grid.forEach((function(t){t.forEach((function(t){return t.visibility=!t.visibility}))}))}}}),x=y.actions,S=x.clearFoundPairs,N=x.populateGrid,P=x.toggleVisibility,w=x.clearPair,k=x.closePair,I=x.turnAllCards,J=y,C=Object(d.b)({name:"timer",initialState:{pairTimer:{started:!1,timer:0},totalTimer:{started:!1,timer:0}},reducers:{pairTimerTick:function(t){t.pairTimer.timer=t.pairTimer.timer+1},pairTimerStart:function(t){t.pairTimer.started=!0},pairTimerStop:function(t){t.pairTimer.started=!1,t.pairTimer.timer=0},totalTimerTick:function(t){t.totalTimer.timer=t.totalTimer.timer+1},totalTimerStart:function(t){t.totalTimer.started=!0},totalTimerStop:function(t){t.totalTimer.started=!1,t.totalTimer.timer=0}}}),E=C.actions,G=E.pairTimerStop,F=E.pairTimerTick,_=E.pairTimerStart,L=E.totalTimerStart,M=E.totalTimerStop,A=E.totalTimerTick,V=C,z=e(1),B=function(t){var r=t.card,e=s(),i=l((function(t){return t.grid})),a=l((function(t){return t.timer}));return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{onClick:function(){2===i.pair.length&&(e(w()),e(G())),!i.grid[r.position.row][r.position.col].done&&a.totalTimer.started&&(e(P({row:r.position.row,col:r.position.col})),e(_()))},className:"card ".concat(r.visibility?"flip-card-face":"flip-card-bottom"," ").concat(r.done&&"card-hide card-done"),children:Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("i",{className:"".concat(r.icon)})})})})},q=function(){var t=s(),r=l((function(t){return t.grid})),e=l((function(t){return t.timer}));return Object(i.useEffect)((function(){t(N()),setTimeout((function(){t(I()),t(L())}),5e3)}),[t]),Object(i.useEffect)((function(){(e.pairTimer.timer>=5||r.pair.length>2)&&setTimeout((function(){t(w()),t(G())}),500),e.pairTimer.timer<5&&2===r.pair.length&&r.pair[0].icon===r.pair[1].icon&&r.pair[0].position!==r.pair[1].position&&(t(k()),t(G())),18===r.foundPairs&&e.totalTimer.started&&(t(p(e.totalTimer.timer)),t(M()),t(S()))}),[t,r.foundPairs,r.pair,e.pairTimer.timer,e.totalTimer.started,e.totalTimer.timer]),Object(z.jsx)("div",{className:"container",children:r.grid.map((function(t,r){return Object(z.jsx)("div",{className:"row",children:t.map((function(t,r){return Object(z.jsx)("div",{className:"col",children:Object(z.jsx)(B,{visibility:t.visibility,card:t})},r)}))},r)}))})},D=function(){var t=s(),r=l((function(t){return t.timer}));return Object(i.useEffect)((function(){if(r.pairTimer.started){var e=setInterval((function(){t(F())}),1e3);return function(){return clearInterval(e)}}}),[t,r.pairTimer.started]),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{children:"Timer:"}),Object(z.jsx)("span",{children:r.pairTimer.timer})]})},H=function(){var t=s(),r=l((function(t){return t.timer}));return Object(i.useEffect)((function(){if(r.totalTimer.started){var e=setInterval((function(){t(A())}),1e3);return function(){return clearInterval(e)}}}),[t,r.totalTimer.started]),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{children:"Total time:"}),Object(z.jsx)("span",{children:r.totalTimer.timer})]})},K=function(){var t=l((function(t){return t.grid}));return Object(z.jsxs)("div",{className:"interface",children:[Object(z.jsx)(H,{}),Object(z.jsx)(D,{}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{children:"Pairs:"}),Object(z.jsx)("span",{children:t.foundPairs})]})]})},Q=function(){var t=s(),r=l((function(t){return t.game}));return Object(z.jsxs)("div",{className:"start-screen",children:[Object(z.jsx)("input",{className:"input-text",type:"text",name:"player",value:r.player||"",onChange:function(r){t(j(r.currentTarget.value))}}),Object(z.jsx)("button",{onClick:function(){t(b())},className:"button start-button",children:"Start game"}),r.leaderboard.length>0&&Object(z.jsxs)("div",{className:"leaderbord",children:[r.leaderboard.map((function(t,r){return Object(z.jsxs)("div",{children:[r+1,". ",t.player,": ",t.time,"sec"]},r)})),r.leaderboard.length>0&&Object(z.jsx)("button",{onClick:function(){t(O())},className:"button",children:"Clear Leaderboard"})]})]})};var R=function(){var t=l((function(t){return t.game}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K,{}),Object(z.jsx)("div",{className:"game-box",children:t.started?Object(z.jsx)(q,{}):Object(z.jsx)(Q,{})})]})},U=Object(d.a)({reducer:{grid:J.reducer,timer:V.reducer,game:g.reducer}});o.a.render(Object(z.jsx)(c.a,{store:U,children:Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(R,{})})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.86e71290.chunk.js.map